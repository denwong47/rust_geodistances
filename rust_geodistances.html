
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>rust_geodistances package &#8212; Geodistance Calculations  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sig_word-break.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'rust_geodistances';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="rust_geodistances.config package" href="rust_geodistances.config.html" />
    <link rel="prev" title="rust_geodistances" href="modules.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="index.html">

  
  
  
  
  
  
  

  
  
    <p class="title logo__title">Geodistance Calculations  documentation</p>
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="modules.html">
                        rust_geodistances
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/denwong47/rust_primes" title="GitHub Repository" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub Repository</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="modules.html">
                        rust_geodistances
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/denwong47/rust_primes" title="GitHub Repository" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub Repository</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="current reference internal" href="#">rust_geodistances package</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="rust_geodistances.config.html">rust_geodistances.config package</a></li>
<li class="toctree-l2"><a class="reference internal" href="rust_geodistances.decorators.html">rust_geodistances.decorators package</a></li>
</ul>
</li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="module-rust_geodistances">
<span id="rust-geodistances-package"></span><h1>rust_geodistances package<a class="headerlink" href="#module-rust_geodistances" title="Permalink to this heading">#</a></h1>
<section id="rust-geodistances">
<h2>rust_geodistances<a class="headerlink" href="#rust-geodistances" title="Permalink to this heading">#</a></h2>
<p>Python Library with a Rust backend to calculate Geodistances using both Haversine and Vincenty methods.</p>
<p>This project includes a Rust binary backend:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-0" title="rust_geodistances.lib_rust_geodistances"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lib_rust_geodistances</span></code></a> which can be loaded as
<a class="reference internal" href="#rust_geodistances.bin" title="rust_geodistances.bin"><code class="xref py py-attr docutils literal notranslate"><span class="pre">bin</span></code></a>.</p></li>
</ul>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="rust_geodistances.CalculationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rust_geodistances.</span></span><span class="sig-name descname"><span class="pre">CalculationMethod</span></span><a class="headerlink" href="#rust_geodistances.CalculationMethod" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Pseudo-Enum class of all supported calculation models.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.CalculationMethod.HAVERSINE">
<span class="sig-name descname"><span class="pre">HAVERSINE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">CalculationMethod.HAVERSINE</span></em><a class="headerlink" href="#rust_geodistances.CalculationMethod.HAVERSINE" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.CalculationMethod.VINCENTY">
<span class="sig-name descname"><span class="pre">VINCENTY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">CalculationMethod.VINCENTY</span></em><a class="headerlink" href="#rust_geodistances.CalculationMethod.VINCENTY" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.CalculationMethod.displace">
<span class="sig-name descname"><span class="pre">displace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bearing</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.CalculationMethod.displace" title="Permalink to this definition">#</a></dt>
<dd><p>Displace an array of coordinates by a vector.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.2.0: </span>Renamed function from <code class="xref py py-func docutils literal notranslate"><span class="pre">offset()</span></code> to <a class="reference internal" href="#rust_geodistances.CalculationMethod.displace" title="rust_geodistances.CalculationMethod.displace"><code class="xref py py-func docutils literal notranslate"><span class="pre">displace()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance of the vector to displace.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.spherical_radius" title="rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_a" title="rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_b" title="rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_f" title="rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#rust_geodistances.CalculationMethod" title="rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>bearing</strong> (<em>numpy.float64</em>) – <p>A bearing of 0º to 360º, with 0º being due North.</p>
<p>This is the direction of the displacement vector.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#rust_geodistances.CalculationSettings" title="rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dimension <cite>(n, 2)</cite>.
The resultant coordinates after displacement from <code class="docutils literal notranslate"><span class="pre">s</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=bool)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Mapping distances between two arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances.lib_rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationMethod</span><span class="p">,</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">en</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">180</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">360</span><span class="o">-</span><span class="mi">180</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">displace</span><span class="p">(</span><span class="n">sn</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">45</span><span class="p">)</span>
<span class="go">array([[ -28.86546369,   13.59962309],</span>
<span class="go">       [ -29.70188916,  -51.23964521],</span>
<span class="go">       [  57.63527865,   -9.52852496],</span>
<span class="go">       [ -62.37326971,   95.67907013],</span>
<span class="go">       [ -78.87596194,  167.07776966],</span>
<span class="go">       [ -51.27505405,   82.74368037],</span>
<span class="go">       [ -38.39502506, -135.63886557],</span>
<span class="go">       [ -73.12361752,  -84.45706686]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.CalculationMethod.distance">
<span class="sig-name descname"><span class="pre">distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.CalculationMethod.distance" title="Permalink to this definition">#</a></dt>
<dd><p>Great-circle distances between two arrays of lat-long coordinates.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will check if <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code> are identical (i.e. Python
<code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">is</span> <span class="pre">e</span></code>); if it is, it will not calculate the upper half of the result
array above the diagonal, and simply mirror the bottom half over. This
effectively halves the calculations.</p>
<p>For this reason, if you are to pair each coordinates of an array with
every other within the same array, make sure an <strong>identical</strong> object is
passed to both <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assume s is some numpy.ndarray of shape (n, 2).</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Slow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#rust_geodistances.CalculationSettings" title="rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array of great-circle distances mapping each point in
<cite>s</cite> to each point in <cite>e</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=numpy.float64)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Mapping distances between two arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances.lib_rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationMethod</span><span class="p">,</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">en</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">180</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">360</span><span class="o">-</span><span class="mi">180</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">sn</span><span class="p">,</span> <span class="n">en</span><span class="p">,</span> <span class="n">settings</span> <span class="o">=</span> <span class="n">CalculationSettings</span><span class="p">(</span><span class="n">workers</span><span class="o">=</span><span class="mi">6</span><span class="p">))</span>
<span class="go">array([[    0.        , 12908.50478944,  9875.9964588 ,  8626.94507491,</span>
<span class="go">         7212.0267238 ,  8036.96348564, 16613.63077234,  6734.12355525],</span>
<span class="go">       [12908.50478944,     0.        , 11875.45259788,  8204.64386099,</span>
<span class="go">        13598.27403101, 18342.14917607,  3828.7790652 , 17495.93671898],</span>
<span class="go">       [ 9875.9964588 , 11875.45259788,     0.        , 18313.98382482,</span>
<span class="go">         2771.77544953,  6625.97278549, 11796.96939483,  5828.42501612],</span>
<span class="go">       [ 8626.94507491,  8204.64386099, 18313.98382482,     0.        ,</span>
<span class="go">        15838.96432924, 13465.30033574,  9248.00225409, 13729.37952497],</span>
<span class="go">       [ 7212.0267238 , 13598.27403101,  2771.77544953, 15838.96432924,</span>
<span class="go">            0.        ,  5333.41414913, 14498.75424006,  3897.67499337],</span>
<span class="go">       [ 8036.96348564, 18342.14917607,  6625.97278549, 13465.30033574,</span>
<span class="go">         5333.41414913,     0.        , 15378.86092402,  1775.65767549],</span>
<span class="go">       [16613.63077234,  3828.7790652 , 11796.96939483,  9248.00225409,</span>
<span class="go">        14498.75424006, 15378.86092402,     0.        , 16542.79712392],</span>
<span class="go">       [ 6734.12355525, 17495.93671898,  5828.42501612, 13729.37952497,</span>
<span class="go">         3897.67499337,  1775.65767549, 16542.79712392,     0.        ]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.CalculationMethod.distance_from_point">
<span class="sig-name descname"><span class="pre">distance_from_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.CalculationMethod.distance_from_point" title="Permalink to this definition">#</a></dt>
<dd><p>Great-circle distances from a point to an array of lat-long coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(2)</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">numpy.array([51.5072,</span> <span class="pre">-0.1276])</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#rust_geodistances.CalculationSettings" title="rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array of great-circle distances mapping each point in
<cite>e</cite> to <cite>s</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=numpy.float64)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.CalculationMethod.indices_within_distance">
<span class="sig-name descname"><span class="pre">indices_within_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.CalculationMethod.indices_within_distance" title="Permalink to this definition">#</a></dt>
<dd><p>Indices of all points from <code class="docutils literal notranslate"><span class="pre">s</span></code> is within <code class="docutils literal notranslate"><span class="pre">distance</span></code> of that of <code class="docutils literal notranslate"><span class="pre">e</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will check if <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code> are identical (i.e. Python
<code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">is</span> <span class="pre">e</span></code>); if it is, it will not calculate the upper half of the result
array above the diagonal, and simply mirror the bottom half over. This
effectively halves the calculations.</p>
<p>For this reason, if you are to pair each coordinates of an array with
every other within the same array, make sure an <strong>identical</strong> object is
passed to both <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assume s is some numpy.ndarray of shape (n, 2).</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">indices_within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">indices_within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Slow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">indices_within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance to check against.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.spherical_radius" title="rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_a" title="rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_b" title="rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_f" title="rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#rust_geodistances.CalculationMethod" title="rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#rust_geodistances.CalculationSettings" title="rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Each <code class="docutils literal notranslate"><span class="pre">returned[i]</span></code> contains a <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> of <code class="docutils literal notranslate"><span class="pre">dtype</span></code>
<code class="docutils literal notranslate"><span class="pre">numpy.uint64</span></code> that are the indices of all points in <code class="docutils literal notranslate"><span class="pre">e</span></code> within
<code class="docutils literal notranslate"><span class="pre">distance</span></code> of <code class="docutils literal notranslate"><span class="pre">s[i]</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[numpy.ndarray (dtype=numpy.uint64)]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Mapping distances between two arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances.lib_rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationMethod</span><span class="p">,</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">en</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">180</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">360</span><span class="o">-</span><span class="mi">180</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">indices_within_distance</span><span class="p">(</span><span class="n">sn</span><span class="p">,</span> <span class="n">en</span><span class="p">,</span> <span class="mi">8000</span><span class="p">)</span>
<span class="go">(array([0, 1, 3, 4, 5, 7], dtype=uint64),</span>
<span class="go"> array([0, 1, 3, 4, 6, 7], dtype=uint64),</span>
<span class="go"> array([2], dtype=uint64),</span>
<span class="go"> array([0, 1, 3, 4, 5, 6, 7], dtype=uint64),</span>
<span class="go"> array([0, 1, 3, 4, 5, 6, 7], dtype=uint64),</span>
<span class="go"> array([0, 3, 4, 5, 7], dtype=uint64),</span>
<span class="go"> array([1, 3, 4, 6, 7], dtype=uint64),</span>
<span class="go"> array([0, 1, 3, 4, 5, 6, 7], dtype=uint64))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.CalculationMethod.indices_within_distance_of_point">
<span class="sig-name descname"><span class="pre">indices_within_distance_of_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.CalculationMethod.indices_within_distance_of_point" title="Permalink to this definition">#</a></dt>
<dd><p>Indices of points in <code class="docutils literal notranslate"><span class="pre">e</span></code> that are within great-circle <code class="docutils literal notranslate"><span class="pre">distance</span></code> of <code class="docutils literal notranslate"><span class="pre">e</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(2)</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">numpy.array([51.5072,</span> <span class="pre">-0.1276])</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance to check against.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.spherical_radius" title="rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_a" title="rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_b" title="rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_f" title="rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#rust_geodistances.CalculationMethod" title="rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#rust_geodistances.CalculationSettings" title="rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> of <code class="docutils literal notranslate"><span class="pre">dtype</span></code> <code class="docutils literal notranslate"><span class="pre">numpy.uint64</span></code> containing the indices of
all points in <code class="docutils literal notranslate"><span class="pre">e</span></code> within <code class="docutils literal notranslate"><span class="pre">distance</span></code> of <code class="docutils literal notranslate"><span class="pre">s[i]</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=numpy.uint64)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.CalculationMethod.within_distance">
<span class="sig-name descname"><span class="pre">within_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.CalculationMethod.within_distance" title="Permalink to this definition">#</a></dt>
<dd><p>Check if each point from <code class="docutils literal notranslate"><span class="pre">s</span></code> is within <code class="docutils literal notranslate"><span class="pre">distance</span></code> of that of <code class="docutils literal notranslate"><span class="pre">e</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will check if <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code> are identical (i.e. Python
<code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">is</span> <span class="pre">e</span></code>); if it is, it will not calculate the upper half of the result
array above the diagonal, and simply mirror the bottom half over. This
effectively halves the calculations.</p>
<p>For this reason, if you are to pair each coordinates of an array with
every other within the same array, make sure an <strong>identical</strong> object is
passed to both <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assume s is some numpy.ndarray of shape (n, 2).</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Slow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance to check against.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.spherical_radius" title="rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_a" title="rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_b" title="rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_f" title="rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#rust_geodistances.CalculationMethod" title="rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#rust_geodistances.CalculationSettings" title="rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array of great-circle distances mapping each point in
<cite>s</cite> to each point in <cite>e</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=bool)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Mapping distances between two arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances.lib_rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationMethod</span><span class="p">,</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">en</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">180</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">360</span><span class="o">-</span><span class="mi">180</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">within_distance</span><span class="p">(</span><span class="n">sn</span><span class="p">,</span> <span class="n">en</span><span class="p">,</span> <span class="mi">8000</span><span class="p">)</span>
<span class="go">array([[ True,  True, False,  True,  True,  True, False,  True],</span>
<span class="go">       [ True,  True, False,  True,  True, False,  True,  True],</span>
<span class="go">       [False, False,  True, False, False, False, False, False],</span>
<span class="go">       [ True,  True, False,  True,  True,  True,  True,  True],</span>
<span class="go">       [ True,  True, False,  True,  True,  True,  True,  True],</span>
<span class="go">       [ True, False, False,  True,  True,  True, False,  True],</span>
<span class="go">       [False,  True, False,  True,  True, False,  True,  True],</span>
<span class="go">       [ True,  True, False,  True,  True,  True,  True,  True]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.CalculationMethod.within_distance_from_point">
<span class="sig-name descname"><span class="pre">within_distance_from_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.CalculationMethod.within_distance_from_point" title="Permalink to this definition">#</a></dt>
<dd><p>Check if array of lat-long coordinates is within great-circle distance of point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(2)</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">numpy.array([51.5072,</span> <span class="pre">-0.1276])</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance to check against.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.spherical_radius" title="rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_a" title="rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_b" title="rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#rust_geodistances.CalculationSettings.ellipse_f" title="rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#rust_geodistances.CalculationMethod" title="rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#rust_geodistances.CalculationSettings" title="rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dimension <cite>(n)</cite>.
An array of great-circle distances mapping each point in
<cite>e</cite> to <cite>s</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=bool)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rust_geodistances.CalculationSettings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rust_geodistances.</span></span><span class="sig-name descname"><span class="pre">CalculationSettings</span></span><a class="headerlink" href="#rust_geodistances.CalculationSettings" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data class for use as <code class="docutils literal notranslate"><span class="pre">settings</span></code> arguments to calculation methods.</p>
<p>All parameters are optional; calling this function by keyworded arguments
is strongly recommended.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spherical_radius</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>ellipse_a</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>ellipse_b</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>ellipse_f</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>tolerance</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>eps</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>workers</strong> (<em>Optional</em><em>[</em><em>numpy.uint64</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instance of <a class="reference internal" href="#rust_geodistances.CalculationSettings" title="rust_geodistances.CalculationSettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationSettings</span></code></a>, which can be passed as
<code class="docutils literal notranslate"><span class="pre">settings</span></code> arguments to calculation methods.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#rust_geodistances.CalculationSettings" title="rust_geodistances.CalculationSettings">CalculationSettings</a></p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.CalculationSettings.ellipse_a">
<span class="sig-name descname"><span class="pre">ellipse_a</span></span><a class="headerlink" href="#rust_geodistances.CalculationSettings.ellipse_a" title="Permalink to this definition">#</a></dt>
<dd><p>Ellipsoidal Semi-major axis length (<code class="docutils literal notranslate"><span class="pre">a</span></code>).</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Used in Vincenty calculations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.CalculationSettings.ellipse_b">
<span class="sig-name descname"><span class="pre">ellipse_b</span></span><a class="headerlink" href="#rust_geodistances.CalculationSettings.ellipse_b" title="Permalink to this definition">#</a></dt>
<dd><p>Ellipsoidal Semi-minor axis length (<code class="docutils literal notranslate"><span class="pre">b</span></code>).</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Used in Vincenty calculations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.CalculationSettings.ellipse_f">
<span class="sig-name descname"><span class="pre">ellipse_f</span></span><a class="headerlink" href="#rust_geodistances.CalculationSettings.ellipse_f" title="Permalink to this definition">#</a></dt>
<dd><p>Ellipsoidal Inverse Flattening (<code class="docutils literal notranslate"><span class="pre">1/f</span></code>).</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Used in Vincenty calculations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.CalculationSettings.eps">
<span class="sig-name descname"><span class="pre">eps</span></span><a class="headerlink" href="#rust_geodistances.CalculationSettings.eps" title="Permalink to this definition">#</a></dt>
<dd><p>Epsilon value (<code class="docutils literal notranslate"><span class="pre">ε</span></code>).</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>2 <code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.float64</span></code> values with absolute difference less than the
<code class="docutils literal notranslate"><span class="pre">ε</span></code> will be considered identical.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.CalculationSettings.explain">
<span class="sig-name descname"><span class="pre">explain</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.CalculationSettings.explain" title="Permalink to this definition">#</a></dt>
<dd><p>Print the current settings to <code class="docutils literal notranslate"><span class="pre">stdout</span></code>.</p>
<p class="rubric">Example</p>
<p>Use <a class="reference internal" href="#rust_geodistances.CalculationSettings.explain" title="rust_geodistances.CalculationSettings.explain"><code class="xref py py-meth docutils literal notranslate"><span class="pre">explain()</span></code></a> to print out the values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">CalculationSettings</span><span class="p">(</span><span class="n">workers</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">explain</span><span class="p">()</span>
<span class="go">CalculationSettings:</span>
<span class="go">  - spherical_radius    =                 6371.0</span>
<span class="go">  - ellipse_a           =               6378.137</span>
<span class="go">  - ellipse_b           =         6356.752314245</span>
<span class="go">  - ellipse_f           =  0.0033528106647474805</span>
<span class="go">  - tolerance           =                  1e-24</span>
<span class="go">  - max_iterations      =                   1000</span>
<span class="go">  - eps                 =  2.220446049250313e-16</span>
<span class="go">  - workers             =                      8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.CalculationSettings.max_iterations">
<span class="sig-name descname"><span class="pre">max_iterations</span></span><a class="headerlink" href="#rust_geodistances.CalculationSettings.max_iterations" title="Permalink to this definition">#</a></dt>
<dd><p>Maximum number of iterations regardless of whether tolerance is matched.</p>
<p><strong>Type:</strong> numpy.uint64</p>
<p>Used in Vincenty calculations. The iterative process of Vincenty will
stop once this number of iterations had taken place.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.CalculationSettings.spherical_radius">
<span class="sig-name descname"><span class="pre">spherical_radius</span></span><a class="headerlink" href="#rust_geodistances.CalculationSettings.spherical_radius" title="Permalink to this definition">#</a></dt>
<dd><p>Radius of the earth, assuming it is a sphere.</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Used in Haversine calculations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.CalculationSettings.tolerance">
<span class="sig-name descname"><span class="pre">tolerance</span></span><a class="headerlink" href="#rust_geodistances.CalculationSettings.tolerance" title="Permalink to this definition">#</a></dt>
<dd><p>Tolerance threshold for iterative calculations.</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Positive value only.</p>
<p>Used in Vincenty calculations. The iterative process of Vincenty will
stop once the difference is below this threshold.</p>
<p>This check is applied before the ellpisoid datums are applied, thus it
is more related to the radian angular distance instead of linear
distance. This does NOT mean that resultant values will be accurate to
+/- <code class="docutils literal notranslate"><span class="pre">tolerance</span></code>.
(Roughly it would be +/- <code class="docutils literal notranslate"><span class="pre">tolerance</span></code> * <code class="docutils literal notranslate"><span class="pre">ellipse_b</span></code>)</p>
<p>Treat this value as arbitrary, only to be compared with itself.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.CalculationSettings.workers">
<span class="sig-name descname"><span class="pre">workers</span></span><a class="headerlink" href="#rust_geodistances.CalculationSettings.workers" title="Permalink to this definition">#</a></dt>
<dd><p>Number of CPU threads to use during parallelised operations.</p>
<p><strong>Type:</strong> numpy.u64</p>
<p>Used in Haversine calculations.</p>
</dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="rust_geodistances.bin">
<span class="sig-prename descclassname"><span class="pre">rust_geodistances.</span></span><span class="sig-name descname"><span class="pre">bin</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;module</span> <span class="pre">'rust_geodistances.lib_rust_geodistances'</span> <span class="pre">from</span> <span class="pre">'/opt/hostedtoolcache/Python/3.9.16/x64/lib/python3.9/site-packages/rust_geodistances/lib_rust_geodistances.cpython-39-x86_64-linux-gnu.so'&gt;</span></em><a class="headerlink" href="#rust_geodistances.bin" title="Permalink to this definition">#</a></dt>
<dd><p>Alias for <a class="reference internal" href="#module-0" title="rust_geodistances.lib_rust_geodistances"><code class="xref py py-mod docutils literal notranslate"><span class="pre">lib_rust_geodistances</span></code></a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="rust_geodistances.haversine">
<span class="sig-prename descclassname"><span class="pre">rust_geodistances.</span></span><span class="sig-name descname"><span class="pre">haversine</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">CalculationMethod.HAVERSINE</span></em><a class="headerlink" href="#rust_geodistances.haversine" title="Permalink to this definition">#</a></dt>
<dd><p>Enum instance containing Haversine calculations methods.</p>
<p>Use:</p>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">haversine.distance()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">haversine.distance_from_point()</span></code></p></li>
</ul>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="rust_geodistances.vincenty">
<span class="sig-prename descclassname"><span class="pre">rust_geodistances.</span></span><span class="sig-name descname"><span class="pre">vincenty</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">CalculationMethod.VINCENTY</span></em><a class="headerlink" href="#rust_geodistances.vincenty" title="Permalink to this definition">#</a></dt>
<dd><p>Enum instance containing Vincenty calculations methods.</p>
<p>Use:</p>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">vincenty.distance()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">vincenty.distance_from_point()</span></code></p></li>
</ul>
</dd></dl>

<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading">#</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="rust_geodistances.config.html">rust_geodistances.config package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rust_geodistances.config.html#configurations-module">Configurations Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="rust_geodistances.config.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="rust_geodistances.config.html#module-rust_geodistances.config.env">rust_geodistances.config.env module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rust_geodistances.config.html#environment-definitions">Environment Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="rust_geodistances.config.html#rust_geodistances.config.env.get"><code class="docutils literal notranslate"><span class="pre">get()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rust_geodistances.decorators.html">rust_geodistances.decorators package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rust_geodistances.decorators.html#decorators-module"><cite>decorators</cite> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="rust_geodistances.decorators.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="rust_geodistances.decorators.html#module-rust_geodistances.decorators.timed">rust_geodistances.decorators.timed module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rust_geodistances.decorators.html#rust_geodistances.decorators.timed.TimedResult"><code class="docutils literal notranslate"><span class="pre">TimedResult</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="rust_geodistances.decorators.html#rust_geodistances.decorators.timed.TimedResult.number"><code class="docutils literal notranslate"><span class="pre">TimedResult.number</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="rust_geodistances.decorators.html#rust_geodistances.decorators.timed.TimedResult.result"><code class="docutils literal notranslate"><span class="pre">TimedResult.result</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="rust_geodistances.decorators.html#rust_geodistances.decorators.timed.TimedResult.duration"><code class="docutils literal notranslate"><span class="pre">TimedResult.duration</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="rust_geodistances.decorators.html#rust_geodistances.decorators.timed.TimedResult.avg"><code class="docutils literal notranslate"><span class="pre">TimedResult.avg</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rust_geodistances.decorators.html#rust_geodistances.decorators.timed.TimedFunction"><code class="docutils literal notranslate"><span class="pre">TimedFunction</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="rust_geodistances.decorators.html#rust_geodistances.decorators.timed.TimedFunction.uncached_call"><code class="docutils literal notranslate"><span class="pre">TimedFunction.uncached_call()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="rust_geodistances.decorators.html#rust_geodistances.decorators.timed.TimedFunction.cached_call"><code class="docutils literal notranslate"><span class="pre">TimedFunction.cached_call()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="rust_geodistances.decorators.html#rust_geodistances.decorators.timed.TimedFunction.timed"><code class="docutils literal notranslate"><span class="pre">TimedFunction.timed()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">#</a></h2>
</section>
<section id="module-rust_geodistances.lib_rust_geodistances">
<span id="rust-geodistances-lib-rust-geodistances-module"></span><h2>rust_geodistances.lib_rust_geodistances module<a class="headerlink" href="#module-rust_geodistances.lib_rust_geodistances" title="Permalink to this heading">#</a></h2>
<p>Internal module (lib.rs) in Rust exposes the Rust endpoints to Python.</p>
<p>This module is written in Rust and compiled by <code class="docutils literal notranslate"><span class="pre">pyo3</span></code> + <code class="docutils literal notranslate"><span class="pre">maturin</span></code> with Python
bindings.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.2.0: </span>This module now no longer contains any functions; instead of calling:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">distance</span><span class="p">,</span> <span class="n">CalculationMethod</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">CalculationMethod</span><span class="o">.</span><span class="n">HAVERSINE</span><span class="p">)</span>
</pre></div>
</div>
<p>Now you can simply call:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#rust_geodistances.haversine" title="rust_geodistances.haversine"><code class="xref py py-attr docutils literal notranslate"><span class="pre">haversine</span></code></a> is simply an alias for
<a class="reference internal" href="#id2" title="rust_geodistances.lib_rust_geodistances.CalculationMethod.HAVERSINE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rust_geodistances.lib_rust_geodistances.CalculationMethod.HAVERSINE</span></code></a>.</p>
</div>
<p>Most if not all of the objects within this module are already exposed at the top
level by <a class="reference internal" href="#module-rust_geodistances" title="rust_geodistances"><code class="xref py py-mod docutils literal notranslate"><span class="pre">rust_geodistances</span></code></a>, so importing this module is typically not
required.</p>
<p>This module is also accessible as <a class="reference internal" href="#rust_geodistances.bin" title="rust_geodistances.bin"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rust_geodistances.bin</span></code></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rust_geodistances.lib_rust_geodistances.</span></span><span class="sig-name descname"><span class="pre">CalculationMethod</span></span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Pseudo-Enum class of all supported calculation models.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationMethod.HAVERSINE">
<span class="sig-name descname"><span class="pre">HAVERSINE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">CalculationMethod.HAVERSINE</span></em><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.HAVERSINE" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationMethod.VINCENTY">
<span class="sig-name descname"><span class="pre">VINCENTY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">CalculationMethod.VINCENTY</span></em><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.VINCENTY" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationMethod.displace">
<span class="sig-name descname"><span class="pre">displace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bearing</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.displace" title="Permalink to this definition">#</a></dt>
<dd><p>Displace an array of coordinates by a vector.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.2.0: </span>Renamed function from <code class="xref py py-func docutils literal notranslate"><span class="pre">offset()</span></code> to <a class="reference internal" href="#id4" title="rust_geodistances.lib_rust_geodistances.CalculationMethod.displace"><code class="xref py py-func docutils literal notranslate"><span class="pre">displace()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance of the vector to displace.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#id18" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#id12" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id13" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id14" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#id0" title="rust_geodistances.lib_rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>bearing</strong> (<em>numpy.float64</em>) – <p>A bearing of 0º to 360º, with 0º being due North.</p>
<p>This is the direction of the displacement vector.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dimension <cite>(n, 2)</cite>.
The resultant coordinates after displacement from <code class="docutils literal notranslate"><span class="pre">s</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=bool)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Mapping distances between two arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances.lib_rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationMethod</span><span class="p">,</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">en</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">180</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">360</span><span class="o">-</span><span class="mi">180</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">displace</span><span class="p">(</span><span class="n">sn</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">45</span><span class="p">)</span>
<span class="go">array([[ -28.86546369,   13.59962309],</span>
<span class="go">       [ -29.70188916,  -51.23964521],</span>
<span class="go">       [  57.63527865,   -9.52852496],</span>
<span class="go">       [ -62.37326971,   95.67907013],</span>
<span class="go">       [ -78.87596194,  167.07776966],</span>
<span class="go">       [ -51.27505405,   82.74368037],</span>
<span class="go">       [ -38.39502506, -135.63886557],</span>
<span class="go">       [ -73.12361752,  -84.45706686]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationMethod.distance">
<span class="sig-name descname"><span class="pre">distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.distance" title="Permalink to this definition">#</a></dt>
<dd><p>Great-circle distances between two arrays of lat-long coordinates.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will check if <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code> are identical (i.e. Python
<code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">is</span> <span class="pre">e</span></code>); if it is, it will not calculate the upper half of the result
array above the diagonal, and simply mirror the bottom half over. This
effectively halves the calculations.</p>
<p>For this reason, if you are to pair each coordinates of an array with
every other within the same array, make sure an <strong>identical</strong> object is
passed to both <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assume s is some numpy.ndarray of shape (n, 2).</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Slow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array of great-circle distances mapping each point in
<cite>s</cite> to each point in <cite>e</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=numpy.float64)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Mapping distances between two arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances.lib_rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationMethod</span><span class="p">,</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">en</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">180</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">360</span><span class="o">-</span><span class="mi">180</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">sn</span><span class="p">,</span> <span class="n">en</span><span class="p">,</span> <span class="n">settings</span> <span class="o">=</span> <span class="n">CalculationSettings</span><span class="p">(</span><span class="n">workers</span><span class="o">=</span><span class="mi">6</span><span class="p">))</span>
<span class="go">array([[    0.        , 12908.50478944,  9875.9964588 ,  8626.94507491,</span>
<span class="go">         7212.0267238 ,  8036.96348564, 16613.63077234,  6734.12355525],</span>
<span class="go">       [12908.50478944,     0.        , 11875.45259788,  8204.64386099,</span>
<span class="go">        13598.27403101, 18342.14917607,  3828.7790652 , 17495.93671898],</span>
<span class="go">       [ 9875.9964588 , 11875.45259788,     0.        , 18313.98382482,</span>
<span class="go">         2771.77544953,  6625.97278549, 11796.96939483,  5828.42501612],</span>
<span class="go">       [ 8626.94507491,  8204.64386099, 18313.98382482,     0.        ,</span>
<span class="go">        15838.96432924, 13465.30033574,  9248.00225409, 13729.37952497],</span>
<span class="go">       [ 7212.0267238 , 13598.27403101,  2771.77544953, 15838.96432924,</span>
<span class="go">            0.        ,  5333.41414913, 14498.75424006,  3897.67499337],</span>
<span class="go">       [ 8036.96348564, 18342.14917607,  6625.97278549, 13465.30033574,</span>
<span class="go">         5333.41414913,     0.        , 15378.86092402,  1775.65767549],</span>
<span class="go">       [16613.63077234,  3828.7790652 , 11796.96939483,  9248.00225409,</span>
<span class="go">        14498.75424006, 15378.86092402,     0.        , 16542.79712392],</span>
<span class="go">       [ 6734.12355525, 17495.93671898,  5828.42501612, 13729.37952497,</span>
<span class="go">         3897.67499337,  1775.65767549, 16542.79712392,     0.        ]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationMethod.distance_from_point">
<span class="sig-name descname"><span class="pre">distance_from_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.distance_from_point" title="Permalink to this definition">#</a></dt>
<dd><p>Great-circle distances from a point to an array of lat-long coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(2)</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">numpy.array([51.5072,</span> <span class="pre">-0.1276])</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array of great-circle distances mapping each point in
<cite>e</cite> to <cite>s</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=numpy.float64)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationMethod.indices_within_distance">
<span class="sig-name descname"><span class="pre">indices_within_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.indices_within_distance" title="Permalink to this definition">#</a></dt>
<dd><p>Indices of all points from <code class="docutils literal notranslate"><span class="pre">s</span></code> is within <code class="docutils literal notranslate"><span class="pre">distance</span></code> of that of <code class="docutils literal notranslate"><span class="pre">e</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will check if <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code> are identical (i.e. Python
<code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">is</span> <span class="pre">e</span></code>); if it is, it will not calculate the upper half of the result
array above the diagonal, and simply mirror the bottom half over. This
effectively halves the calculations.</p>
<p>For this reason, if you are to pair each coordinates of an array with
every other within the same array, make sure an <strong>identical</strong> object is
passed to both <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assume s is some numpy.ndarray of shape (n, 2).</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">indices_within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">indices_within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Slow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">indices_within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance to check against.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#id18" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#id12" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id13" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id14" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#id0" title="rust_geodistances.lib_rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Each <code class="docutils literal notranslate"><span class="pre">returned[i]</span></code> contains a <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> of <code class="docutils literal notranslate"><span class="pre">dtype</span></code>
<code class="docutils literal notranslate"><span class="pre">numpy.uint64</span></code> that are the indices of all points in <code class="docutils literal notranslate"><span class="pre">e</span></code> within
<code class="docutils literal notranslate"><span class="pre">distance</span></code> of <code class="docutils literal notranslate"><span class="pre">s[i]</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[numpy.ndarray (dtype=numpy.uint64)]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Mapping distances between two arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances.lib_rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationMethod</span><span class="p">,</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">en</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">180</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">360</span><span class="o">-</span><span class="mi">180</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">indices_within_distance</span><span class="p">(</span><span class="n">sn</span><span class="p">,</span> <span class="n">en</span><span class="p">,</span> <span class="mi">8000</span><span class="p">)</span>
<span class="go">(array([0, 1, 3, 4, 5, 7], dtype=uint64),</span>
<span class="go"> array([0, 1, 3, 4, 6, 7], dtype=uint64),</span>
<span class="go"> array([2], dtype=uint64),</span>
<span class="go"> array([0, 1, 3, 4, 5, 6, 7], dtype=uint64),</span>
<span class="go"> array([0, 1, 3, 4, 5, 6, 7], dtype=uint64),</span>
<span class="go"> array([0, 3, 4, 5, 7], dtype=uint64),</span>
<span class="go"> array([1, 3, 4, 6, 7], dtype=uint64),</span>
<span class="go"> array([0, 1, 3, 4, 5, 6, 7], dtype=uint64))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationMethod.indices_within_distance_of_point">
<span class="sig-name descname"><span class="pre">indices_within_distance_of_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.indices_within_distance_of_point" title="Permalink to this definition">#</a></dt>
<dd><p>Indices of points in <code class="docutils literal notranslate"><span class="pre">e</span></code> that are within great-circle <code class="docutils literal notranslate"><span class="pre">distance</span></code> of <code class="docutils literal notranslate"><span class="pre">e</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(2)</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">numpy.array([51.5072,</span> <span class="pre">-0.1276])</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance to check against.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#id18" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#id12" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id13" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id14" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#id0" title="rust_geodistances.lib_rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> of <code class="docutils literal notranslate"><span class="pre">dtype</span></code> <code class="docutils literal notranslate"><span class="pre">numpy.uint64</span></code> containing the indices of
all points in <code class="docutils literal notranslate"><span class="pre">e</span></code> within <code class="docutils literal notranslate"><span class="pre">distance</span></code> of <code class="docutils literal notranslate"><span class="pre">s[i]</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=numpy.uint64)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationMethod.within_distance">
<span class="sig-name descname"><span class="pre">within_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.within_distance" title="Permalink to this definition">#</a></dt>
<dd><p>Check if each point from <code class="docutils literal notranslate"><span class="pre">s</span></code> is within <code class="docutils literal notranslate"><span class="pre">distance</span></code> of that of <code class="docutils literal notranslate"><span class="pre">e</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will check if <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code> are identical (i.e. Python
<code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">is</span> <span class="pre">e</span></code>); if it is, it will not calculate the upper half of the result
array above the diagonal, and simply mirror the bottom half over. This
effectively halves the calculations.</p>
<p>For this reason, if you are to pair each coordinates of an array with
every other within the same array, make sure an <strong>identical</strong> object is
passed to both <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assume s is some numpy.ndarray of shape (n, 2).</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Slow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance to check against.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#id18" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#id12" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id13" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id14" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#id0" title="rust_geodistances.lib_rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array of great-circle distances mapping each point in
<cite>s</cite> to each point in <cite>e</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=bool)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Mapping distances between two arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances.lib_rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationMethod</span><span class="p">,</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">en</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">180</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">360</span><span class="o">-</span><span class="mi">180</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">within_distance</span><span class="p">(</span><span class="n">sn</span><span class="p">,</span> <span class="n">en</span><span class="p">,</span> <span class="mi">8000</span><span class="p">)</span>
<span class="go">array([[ True,  True, False,  True,  True,  True, False,  True],</span>
<span class="go">       [ True,  True, False,  True,  True, False,  True,  True],</span>
<span class="go">       [False, False,  True, False, False, False, False, False],</span>
<span class="go">       [ True,  True, False,  True,  True,  True,  True,  True],</span>
<span class="go">       [ True,  True, False,  True,  True,  True,  True,  True],</span>
<span class="go">       [ True, False, False,  True,  True,  True, False,  True],</span>
<span class="go">       [False,  True, False,  True,  True, False,  True,  True],</span>
<span class="go">       [ True,  True, False,  True,  True,  True,  True,  True]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationMethod.within_distance_from_point">
<span class="sig-name descname"><span class="pre">within_distance_from_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.within_distance_from_point" title="Permalink to this definition">#</a></dt>
<dd><p>Check if array of lat-long coordinates is within great-circle distance of point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(2)</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">numpy.array([51.5072,</span> <span class="pre">-0.1276])</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance to check against.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#id18" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#id12" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id13" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id14" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#id0" title="rust_geodistances.lib_rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dimension <cite>(n)</cite>.
An array of great-circle distances mapping each point in
<cite>e</cite> to <cite>s</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=bool)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationSettings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rust_geodistances.lib_rust_geodistances.</span></span><span class="sig-name descname"><span class="pre">CalculationSettings</span></span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data class for use as <code class="docutils literal notranslate"><span class="pre">settings</span></code> arguments to calculation methods.</p>
<p>All parameters are optional; calling this function by keyworded arguments
is strongly recommended.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spherical_radius</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>ellipse_a</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>ellipse_b</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>ellipse_f</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>tolerance</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>eps</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>workers</strong> (<em>Optional</em><em>[</em><em>numpy.uint64</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instance of <a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationSettings</span></code></a>, which can be passed as
<code class="docutils literal notranslate"><span class="pre">settings</span></code> arguments to calculation methods.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings">CalculationSettings</a></p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_a">
<span class="sig-name descname"><span class="pre">ellipse_a</span></span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_a" title="Permalink to this definition">#</a></dt>
<dd><p>Ellipsoidal Semi-major axis length (<code class="docutils literal notranslate"><span class="pre">a</span></code>).</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Used in Vincenty calculations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_b">
<span class="sig-name descname"><span class="pre">ellipse_b</span></span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_b" title="Permalink to this definition">#</a></dt>
<dd><p>Ellipsoidal Semi-minor axis length (<code class="docutils literal notranslate"><span class="pre">b</span></code>).</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Used in Vincenty calculations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_f">
<span class="sig-name descname"><span class="pre">ellipse_f</span></span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_f" title="Permalink to this definition">#</a></dt>
<dd><p>Ellipsoidal Inverse Flattening (<code class="docutils literal notranslate"><span class="pre">1/f</span></code>).</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Used in Vincenty calculations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationSettings.eps">
<span class="sig-name descname"><span class="pre">eps</span></span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.eps" title="Permalink to this definition">#</a></dt>
<dd><p>Epsilon value (<code class="docutils literal notranslate"><span class="pre">ε</span></code>).</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>2 <code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.float64</span></code> values with absolute difference less than the
<code class="docutils literal notranslate"><span class="pre">ε</span></code> will be considered identical.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationSettings.explain">
<span class="sig-name descname"><span class="pre">explain</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.explain" title="Permalink to this definition">#</a></dt>
<dd><p>Print the current settings to <code class="docutils literal notranslate"><span class="pre">stdout</span></code>.</p>
<p class="rubric">Example</p>
<p>Use <a class="reference internal" href="#id16" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.explain"><code class="xref py py-meth docutils literal notranslate"><span class="pre">explain()</span></code></a> to print out the values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">CalculationSettings</span><span class="p">(</span><span class="n">workers</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">explain</span><span class="p">()</span>
<span class="go">CalculationSettings:</span>
<span class="go">  - spherical_radius    =                 6371.0</span>
<span class="go">  - ellipse_a           =               6378.137</span>
<span class="go">  - ellipse_b           =         6356.752314245</span>
<span class="go">  - ellipse_f           =  0.0033528106647474805</span>
<span class="go">  - tolerance           =                  1e-24</span>
<span class="go">  - max_iterations      =                   1000</span>
<span class="go">  - eps                 =  2.220446049250313e-16</span>
<span class="go">  - workers             =                      8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationSettings.max_iterations">
<span class="sig-name descname"><span class="pre">max_iterations</span></span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.max_iterations" title="Permalink to this definition">#</a></dt>
<dd><p>Maximum number of iterations regardless of whether tolerance is matched.</p>
<p><strong>Type:</strong> numpy.uint64</p>
<p>Used in Vincenty calculations. The iterative process of Vincenty will
stop once this number of iterations had taken place.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationSettings.spherical_radius">
<span class="sig-name descname"><span class="pre">spherical_radius</span></span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.spherical_radius" title="Permalink to this definition">#</a></dt>
<dd><p>Radius of the earth, assuming it is a sphere.</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Used in Haversine calculations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationSettings.tolerance">
<span class="sig-name descname"><span class="pre">tolerance</span></span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.tolerance" title="Permalink to this definition">#</a></dt>
<dd><p>Tolerance threshold for iterative calculations.</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Positive value only.</p>
<p>Used in Vincenty calculations. The iterative process of Vincenty will
stop once the difference is below this threshold.</p>
<p>This check is applied before the ellpisoid datums are applied, thus it
is more related to the radian angular distance instead of linear
distance. This does NOT mean that resultant values will be accurate to
+/- <code class="docutils literal notranslate"><span class="pre">tolerance</span></code>.
(Roughly it would be +/- <code class="docutils literal notranslate"><span class="pre">tolerance</span></code> * <code class="docutils literal notranslate"><span class="pre">ellipse_b</span></code>)</p>
<p>Treat this value as arbitrary, only to be compared with itself.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rust_geodistances.lib_rust_geodistances.CalculationSettings.workers">
<span class="sig-name descname"><span class="pre">workers</span></span><a class="headerlink" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.workers" title="Permalink to this definition">#</a></dt>
<dd><p>Number of CPU threads to use during parallelised operations.</p>
<p><strong>Type:</strong> numpy.u64</p>
<p>Used in Haversine calculations.</p>
</dd></dl>

</dd></dl>

</section>
<section id="id1">
<h2>rust_geodistances.lib_rust_geodistances module<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h2>
<span class="target" id="module-0"></span><p>Internal module (lib.rs) in Rust exposes the Rust endpoints to Python.</p>
<p>This module is written in Rust and compiled by <code class="docutils literal notranslate"><span class="pre">pyo3</span></code> + <code class="docutils literal notranslate"><span class="pre">maturin</span></code> with Python
bindings.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.2.0: </span>This module now no longer contains any functions; instead of calling:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">distance</span><span class="p">,</span> <span class="n">CalculationMethod</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">CalculationMethod</span><span class="o">.</span><span class="n">HAVERSINE</span><span class="p">)</span>
</pre></div>
</div>
<p>Now you can simply call:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#rust_geodistances.haversine" title="rust_geodistances.haversine"><code class="xref py py-attr docutils literal notranslate"><span class="pre">haversine</span></code></a> is simply an alias for
<a class="reference internal" href="#id2" title="rust_geodistances.lib_rust_geodistances.CalculationMethod.HAVERSINE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rust_geodistances.lib_rust_geodistances.CalculationMethod.HAVERSINE</span></code></a>.</p>
</div>
<p>Most if not all of the objects within this module are already exposed at the top
level by <a class="reference internal" href="#module-rust_geodistances" title="rust_geodistances"><code class="xref py py-mod docutils literal notranslate"><span class="pre">rust_geodistances</span></code></a>, so importing this module is typically not
required.</p>
<p>This module is also accessible as <a class="reference internal" href="#rust_geodistances.bin" title="rust_geodistances.bin"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rust_geodistances.bin</span></code></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="id0">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rust_geodistances.lib_rust_geodistances.</span></span><span class="sig-name descname"><span class="pre">CalculationMethod</span></span><a class="headerlink" href="#id0" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Pseudo-Enum class of all supported calculation models.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="id2">
<span class="sig-name descname"><span class="pre">HAVERSINE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">CalculationMethod.HAVERSINE</span></em><a class="headerlink" href="#id2" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id3">
<span class="sig-name descname"><span class="pre">VINCENTY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">CalculationMethod.VINCENTY</span></em><a class="headerlink" href="#id3" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id4">
<span class="sig-name descname"><span class="pre">displace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bearing</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id4" title="Permalink to this definition">#</a></dt>
<dd><p>Displace an array of coordinates by a vector.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.2.0: </span>Renamed function from <code class="xref py py-func docutils literal notranslate"><span class="pre">offset()</span></code> to <a class="reference internal" href="#id4" title="rust_geodistances.lib_rust_geodistances.CalculationMethod.displace"><code class="xref py py-func docutils literal notranslate"><span class="pre">displace()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance of the vector to displace.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#id18" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#id12" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id13" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id14" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#id0" title="rust_geodistances.lib_rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>bearing</strong> (<em>numpy.float64</em>) – <p>A bearing of 0º to 360º, with 0º being due North.</p>
<p>This is the direction of the displacement vector.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dimension <cite>(n, 2)</cite>.
The resultant coordinates after displacement from <code class="docutils literal notranslate"><span class="pre">s</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=bool)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Mapping distances between two arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances.lib_rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationMethod</span><span class="p">,</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">en</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">180</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">360</span><span class="o">-</span><span class="mi">180</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">displace</span><span class="p">(</span><span class="n">sn</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">45</span><span class="p">)</span>
<span class="go">array([[ -28.86546369,   13.59962309],</span>
<span class="go">       [ -29.70188916,  -51.23964521],</span>
<span class="go">       [  57.63527865,   -9.52852496],</span>
<span class="go">       [ -62.37326971,   95.67907013],</span>
<span class="go">       [ -78.87596194,  167.07776966],</span>
<span class="go">       [ -51.27505405,   82.74368037],</span>
<span class="go">       [ -38.39502506, -135.63886557],</span>
<span class="go">       [ -73.12361752,  -84.45706686]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id5">
<span class="sig-name descname"><span class="pre">distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id5" title="Permalink to this definition">#</a></dt>
<dd><p>Great-circle distances between two arrays of lat-long coordinates.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will check if <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code> are identical (i.e. Python
<code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">is</span> <span class="pre">e</span></code>); if it is, it will not calculate the upper half of the result
array above the diagonal, and simply mirror the bottom half over. This
effectively halves the calculations.</p>
<p>For this reason, if you are to pair each coordinates of an array with
every other within the same array, make sure an <strong>identical</strong> object is
passed to both <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assume s is some numpy.ndarray of shape (n, 2).</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Slow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array of great-circle distances mapping each point in
<cite>s</cite> to each point in <cite>e</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=numpy.float64)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Mapping distances between two arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances.lib_rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationMethod</span><span class="p">,</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">en</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">180</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">360</span><span class="o">-</span><span class="mi">180</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">sn</span><span class="p">,</span> <span class="n">en</span><span class="p">,</span> <span class="n">settings</span> <span class="o">=</span> <span class="n">CalculationSettings</span><span class="p">(</span><span class="n">workers</span><span class="o">=</span><span class="mi">6</span><span class="p">))</span>
<span class="go">array([[    0.        , 12908.50478944,  9875.9964588 ,  8626.94507491,</span>
<span class="go">         7212.0267238 ,  8036.96348564, 16613.63077234,  6734.12355525],</span>
<span class="go">       [12908.50478944,     0.        , 11875.45259788,  8204.64386099,</span>
<span class="go">        13598.27403101, 18342.14917607,  3828.7790652 , 17495.93671898],</span>
<span class="go">       [ 9875.9964588 , 11875.45259788,     0.        , 18313.98382482,</span>
<span class="go">         2771.77544953,  6625.97278549, 11796.96939483,  5828.42501612],</span>
<span class="go">       [ 8626.94507491,  8204.64386099, 18313.98382482,     0.        ,</span>
<span class="go">        15838.96432924, 13465.30033574,  9248.00225409, 13729.37952497],</span>
<span class="go">       [ 7212.0267238 , 13598.27403101,  2771.77544953, 15838.96432924,</span>
<span class="go">            0.        ,  5333.41414913, 14498.75424006,  3897.67499337],</span>
<span class="go">       [ 8036.96348564, 18342.14917607,  6625.97278549, 13465.30033574,</span>
<span class="go">         5333.41414913,     0.        , 15378.86092402,  1775.65767549],</span>
<span class="go">       [16613.63077234,  3828.7790652 , 11796.96939483,  9248.00225409,</span>
<span class="go">        14498.75424006, 15378.86092402,     0.        , 16542.79712392],</span>
<span class="go">       [ 6734.12355525, 17495.93671898,  5828.42501612, 13729.37952497,</span>
<span class="go">         3897.67499337,  1775.65767549, 16542.79712392,     0.        ]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id6">
<span class="sig-name descname"><span class="pre">distance_from_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id6" title="Permalink to this definition">#</a></dt>
<dd><p>Great-circle distances from a point to an array of lat-long coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(2)</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">numpy.array([51.5072,</span> <span class="pre">-0.1276])</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array of great-circle distances mapping each point in
<cite>e</cite> to <cite>s</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=numpy.float64)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id7">
<span class="sig-name descname"><span class="pre">indices_within_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id7" title="Permalink to this definition">#</a></dt>
<dd><p>Indices of all points from <code class="docutils literal notranslate"><span class="pre">s</span></code> is within <code class="docutils literal notranslate"><span class="pre">distance</span></code> of that of <code class="docutils literal notranslate"><span class="pre">e</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will check if <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code> are identical (i.e. Python
<code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">is</span> <span class="pre">e</span></code>); if it is, it will not calculate the upper half of the result
array above the diagonal, and simply mirror the bottom half over. This
effectively halves the calculations.</p>
<p>For this reason, if you are to pair each coordinates of an array with
every other within the same array, make sure an <strong>identical</strong> object is
passed to both <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assume s is some numpy.ndarray of shape (n, 2).</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">indices_within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">indices_within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Slow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">indices_within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance to check against.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#id18" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#id12" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id13" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id14" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#id0" title="rust_geodistances.lib_rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Each <code class="docutils literal notranslate"><span class="pre">returned[i]</span></code> contains a <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> of <code class="docutils literal notranslate"><span class="pre">dtype</span></code>
<code class="docutils literal notranslate"><span class="pre">numpy.uint64</span></code> that are the indices of all points in <code class="docutils literal notranslate"><span class="pre">e</span></code> within
<code class="docutils literal notranslate"><span class="pre">distance</span></code> of <code class="docutils literal notranslate"><span class="pre">s[i]</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[numpy.ndarray (dtype=numpy.uint64)]</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Mapping distances between two arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances.lib_rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationMethod</span><span class="p">,</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">en</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">180</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">360</span><span class="o">-</span><span class="mi">180</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">indices_within_distance</span><span class="p">(</span><span class="n">sn</span><span class="p">,</span> <span class="n">en</span><span class="p">,</span> <span class="mi">8000</span><span class="p">)</span>
<span class="go">(array([0, 1, 3, 4, 5, 7], dtype=uint64),</span>
<span class="go"> array([0, 1, 3, 4, 6, 7], dtype=uint64),</span>
<span class="go"> array([2], dtype=uint64),</span>
<span class="go"> array([0, 1, 3, 4, 5, 6, 7], dtype=uint64),</span>
<span class="go"> array([0, 1, 3, 4, 5, 6, 7], dtype=uint64),</span>
<span class="go"> array([0, 3, 4, 5, 7], dtype=uint64),</span>
<span class="go"> array([1, 3, 4, 6, 7], dtype=uint64),</span>
<span class="go"> array([0, 1, 3, 4, 5, 6, 7], dtype=uint64))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id8">
<span class="sig-name descname"><span class="pre">indices_within_distance_of_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id8" title="Permalink to this definition">#</a></dt>
<dd><p>Indices of points in <code class="docutils literal notranslate"><span class="pre">e</span></code> that are within great-circle <code class="docutils literal notranslate"><span class="pre">distance</span></code> of <code class="docutils literal notranslate"><span class="pre">e</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(2)</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">numpy.array([51.5072,</span> <span class="pre">-0.1276])</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance to check against.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#id18" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#id12" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id13" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id14" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#id0" title="rust_geodistances.lib_rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> of <code class="docutils literal notranslate"><span class="pre">dtype</span></code> <code class="docutils literal notranslate"><span class="pre">numpy.uint64</span></code> containing the indices of
all points in <code class="docutils literal notranslate"><span class="pre">e</span></code> within <code class="docutils literal notranslate"><span class="pre">distance</span></code> of <code class="docutils literal notranslate"><span class="pre">s[i]</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=numpy.uint64)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id9">
<span class="sig-name descname"><span class="pre">within_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id9" title="Permalink to this definition">#</a></dt>
<dd><p>Check if each point from <code class="docutils literal notranslate"><span class="pre">s</span></code> is within <code class="docutils literal notranslate"><span class="pre">distance</span></code> of that of <code class="docutils literal notranslate"><span class="pre">e</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will check if <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code> are identical (i.e. Python
<code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">is</span> <span class="pre">e</span></code>); if it is, it will not calculate the upper half of the result
array above the diagonal, and simply mirror the bottom half over. This
effectively halves the calculations.</p>
<p>For this reason, if you are to pair each coordinates of an array with
every other within the same array, make sure an <strong>identical</strong> object is
passed to both <code class="docutils literal notranslate"><span class="pre">s</span></code> and <code class="docutils literal notranslate"><span class="pre">e</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assume s is some numpy.ndarray of shape (n, 2).</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Fast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Slow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">e</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">haversine</span><span class="o">.</span><span class="n">within_distance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance to check against.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#id18" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#id12" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id13" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id14" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#id0" title="rust_geodistances.lib_rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array of great-circle distances mapping each point in
<cite>s</cite> to each point in <cite>e</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=bool)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Mapping distances between two arrays:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances.lib_rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationMethod</span><span class="p">,</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">haversine</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sn</span> <span class="o">=</span> <span class="n">en</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span>
<span class="gp">... </span>        <span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">180</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">360</span><span class="o">-</span><span class="mi">180</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">haversine</span><span class="o">.</span><span class="n">within_distance</span><span class="p">(</span><span class="n">sn</span><span class="p">,</span> <span class="n">en</span><span class="p">,</span> <span class="mi">8000</span><span class="p">)</span>
<span class="go">array([[ True,  True, False,  True,  True,  True, False,  True],</span>
<span class="go">       [ True,  True, False,  True,  True, False,  True,  True],</span>
<span class="go">       [False, False,  True, False, False, False, False, False],</span>
<span class="go">       [ True,  True, False,  True,  True,  True,  True,  True],</span>
<span class="go">       [ True,  True, False,  True,  True,  True,  True,  True],</span>
<span class="go">       [ True, False, False,  True,  True,  True, False,  True],</span>
<span class="go">       [False,  True, False,  True,  True, False,  True,  True],</span>
<span class="go">       [ True,  True, False,  True,  True,  True,  True,  True]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id10">
<span class="sig-name descname"><span class="pre">within_distance_from_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id10" title="Permalink to this definition">#</a></dt>
<dd><p>Check if array of lat-long coordinates is within great-circle distance of point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(2)</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">numpy.array([51.5072,</span> <span class="pre">-0.1276])</span></code>.</p></li>
<li><p><strong>e</strong> (<em>numpy.ndarray</em>) – Of dimension <code class="docutils literal notranslate"><span class="pre">(n,</span> <span class="pre">2)</span></code>, in degrees. In order <code class="docutils literal notranslate"><span class="pre">(latitude,</span> <span class="pre">longitude)</span></code>.</p></li>
<li><p><strong>distance</strong> (<em>numpy.float64</em>) – <p>Distance to check against.
The unit of this must be the same as that of:</p>
<ul>
<li><p><a class="reference internal" href="#id18" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.spherical_radius"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.spherical_radius</span></code></a> or</p></li>
<li><p><a class="reference internal" href="#id12" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_a"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_a</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id13" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_b"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_b</span></code></a> and</p></li>
<li><p><a class="reference internal" href="#id14" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_f"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CalculationSettings.ellipse_f</span></code></a></p></li>
</ul>
<p>whichever used by in the <a class="reference internal" href="#id0" title="rust_geodistances.lib_rust_geodistances.CalculationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationMethod</span></code></a>.</p>
</p></li>
<li><p><strong>settings</strong> (<a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><em>CalculationSettings</em></a>) – Settings to be passed on to the calculation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dimension <cite>(n)</cite>.
An array of great-circle distances mapping each point in
<cite>e</cite> to <cite>s</cite>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray (dtype=bool)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="id11">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rust_geodistances.lib_rust_geodistances.</span></span><span class="sig-name descname"><span class="pre">CalculationSettings</span></span><a class="headerlink" href="#id11" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data class for use as <code class="docutils literal notranslate"><span class="pre">settings</span></code> arguments to calculation methods.</p>
<p>All parameters are optional; calling this function by keyworded arguments
is strongly recommended.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spherical_radius</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>ellipse_a</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>ellipse_b</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>ellipse_f</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>tolerance</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>eps</strong> (<em>Optional</em><em>[</em><em>numpy.float64</em><em>]</em>) – </p></li>
<li><p><strong>workers</strong> (<em>Optional</em><em>[</em><em>numpy.uint64</em><em>]</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instance of <a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalculationSettings</span></code></a>, which can be passed as
<code class="docutils literal notranslate"><span class="pre">settings</span></code> arguments to calculation methods.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#id11" title="rust_geodistances.lib_rust_geodistances.CalculationSettings">CalculationSettings</a></p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="id12">
<span class="sig-name descname"><span class="pre">ellipse_a</span></span><a class="headerlink" href="#id12" title="Permalink to this definition">#</a></dt>
<dd><p>Ellipsoidal Semi-major axis length (<code class="docutils literal notranslate"><span class="pre">a</span></code>).</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Used in Vincenty calculations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id13">
<span class="sig-name descname"><span class="pre">ellipse_b</span></span><a class="headerlink" href="#id13" title="Permalink to this definition">#</a></dt>
<dd><p>Ellipsoidal Semi-minor axis length (<code class="docutils literal notranslate"><span class="pre">b</span></code>).</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Used in Vincenty calculations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id14">
<span class="sig-name descname"><span class="pre">ellipse_f</span></span><a class="headerlink" href="#id14" title="Permalink to this definition">#</a></dt>
<dd><p>Ellipsoidal Inverse Flattening (<code class="docutils literal notranslate"><span class="pre">1/f</span></code>).</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Used in Vincenty calculations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id15">
<span class="sig-name descname"><span class="pre">eps</span></span><a class="headerlink" href="#id15" title="Permalink to this definition">#</a></dt>
<dd><p>Epsilon value (<code class="docutils literal notranslate"><span class="pre">ε</span></code>).</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>2 <code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.float64</span></code> values with absolute difference less than the
<code class="docutils literal notranslate"><span class="pre">ε</span></code> will be considered identical.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id16">
<span class="sig-name descname"><span class="pre">explain</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id16" title="Permalink to this definition">#</a></dt>
<dd><p>Print the current settings to <code class="docutils literal notranslate"><span class="pre">stdout</span></code>.</p>
<p class="rubric">Example</p>
<p>Use <a class="reference internal" href="#id16" title="rust_geodistances.lib_rust_geodistances.CalculationSettings.explain"><code class="xref py py-meth docutils literal notranslate"><span class="pre">explain()</span></code></a> to print out the values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">rust_geodistances</span> <span class="kn">import</span> <span class="n">CalculationSettings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">CalculationSettings</span><span class="p">(</span><span class="n">workers</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">explain</span><span class="p">()</span>
<span class="go">CalculationSettings:</span>
<span class="go">  - spherical_radius    =                 6371.0</span>
<span class="go">  - ellipse_a           =               6378.137</span>
<span class="go">  - ellipse_b           =         6356.752314245</span>
<span class="go">  - ellipse_f           =  0.0033528106647474805</span>
<span class="go">  - tolerance           =                  1e-24</span>
<span class="go">  - max_iterations      =                   1000</span>
<span class="go">  - eps                 =  2.220446049250313e-16</span>
<span class="go">  - workers             =                      8</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id17">
<span class="sig-name descname"><span class="pre">max_iterations</span></span><a class="headerlink" href="#id17" title="Permalink to this definition">#</a></dt>
<dd><p>Maximum number of iterations regardless of whether tolerance is matched.</p>
<p><strong>Type:</strong> numpy.uint64</p>
<p>Used in Vincenty calculations. The iterative process of Vincenty will
stop once this number of iterations had taken place.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id18">
<span class="sig-name descname"><span class="pre">spherical_radius</span></span><a class="headerlink" href="#id18" title="Permalink to this definition">#</a></dt>
<dd><p>Radius of the earth, assuming it is a sphere.</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Used in Haversine calculations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id19">
<span class="sig-name descname"><span class="pre">tolerance</span></span><a class="headerlink" href="#id19" title="Permalink to this definition">#</a></dt>
<dd><p>Tolerance threshold for iterative calculations.</p>
<p><strong>Type:</strong> numpy.float64</p>
<p>Positive value only.</p>
<p>Used in Vincenty calculations. The iterative process of Vincenty will
stop once the difference is below this threshold.</p>
<p>This check is applied before the ellpisoid datums are applied, thus it
is more related to the radian angular distance instead of linear
distance. This does NOT mean that resultant values will be accurate to
+/- <code class="docutils literal notranslate"><span class="pre">tolerance</span></code>.
(Roughly it would be +/- <code class="docutils literal notranslate"><span class="pre">tolerance</span></code> * <code class="docutils literal notranslate"><span class="pre">ellipse_b</span></code>)</p>
<p>Treat this value as arbitrary, only to be compared with itself.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id20">
<span class="sig-name descname"><span class="pre">workers</span></span><a class="headerlink" href="#id20" title="Permalink to this definition">#</a></dt>
<dd><p>Number of CPU threads to use during parallelised operations.</p>
<p><strong>Type:</strong> numpy.u64</p>
<p>Used in Haversine calculations.</p>
</dd></dl>

</dd></dl>

</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="modules.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">rust_geodistances</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="rust_geodistances.config.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">rust_geodistances.config package</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rust-geodistances">
   rust_geodistances
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rust_geodistances.CalculationMethod">
   <code class="docutils literal notranslate">
    <span class="pre">
     CalculationMethod
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationMethod.HAVERSINE">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationMethod.HAVERSINE
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationMethod.VINCENTY">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationMethod.VINCENTY
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationMethod.displace">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationMethod.displace()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationMethod.distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationMethod.distance()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationMethod.distance_from_point">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationMethod.distance_from_point()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationMethod.indices_within_distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationMethod.indices_within_distance()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationMethod.indices_within_distance_of_point">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationMethod.indices_within_distance_of_point()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationMethod.within_distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationMethod.within_distance()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationMethod.within_distance_from_point">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationMethod.within_distance_from_point()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rust_geodistances.CalculationSettings">
   <code class="docutils literal notranslate">
    <span class="pre">
     CalculationSettings
    </span>
   </code>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationSettings.ellipse_a">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationSettings.ellipse_a
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationSettings.ellipse_b">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationSettings.ellipse_b
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationSettings.ellipse_f">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationSettings.ellipse_f
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationSettings.eps">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationSettings.eps
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationSettings.explain">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationSettings.explain()
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationSettings.max_iterations">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationSettings.max_iterations
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationSettings.spherical_radius">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationSettings.spherical_radius
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationSettings.tolerance">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationSettings.tolerance
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.CalculationSettings.workers">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationSettings.workers
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rust_geodistances.bin">
   <code class="docutils literal notranslate">
    <span class="pre">
     bin
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rust_geodistances.haversine">
   <code class="docutils literal notranslate">
    <span class="pre">
     haversine
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rust_geodistances.vincenty">
   <code class="docutils literal notranslate">
    <span class="pre">
     vincenty
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#subpackages">
   Subpackages
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#submodules">
   Submodules
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-rust_geodistances.lib_rust_geodistances">
   rust_geodistances.lib_rust_geodistances module
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationMethod
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.HAVERSINE">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.HAVERSINE
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.VINCENTY">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.VINCENTY
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.displace">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.displace()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.distance">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.distance()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.distance_from_point">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.distance_from_point()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.indices_within_distance">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.indices_within_distance()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.indices_within_distance_of_point">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.indices_within_distance_of_point()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.within_distance">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.within_distance()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationMethod.within_distance_from_point">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.within_distance_from_point()
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationSettings
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_a">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.ellipse_a
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_b">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.ellipse_b
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.ellipse_f">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.ellipse_f
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.eps">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.eps
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.explain">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.explain()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.max_iterations">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.max_iterations
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.spherical_radius">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.spherical_radius
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.tolerance">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.tolerance
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#rust_geodistances.lib_rust_geodistances.CalculationSettings.workers">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.workers
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   rust_geodistances.lib_rust_geodistances module
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id0">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationMethod
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.HAVERSINE
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id3">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.VINCENTY
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id4">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.displace()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id5">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.distance()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id6">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.distance_from_point()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id7">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.indices_within_distance()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id8">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.indices_within_distance_of_point()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id9">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.within_distance()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id10">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationMethod.within_distance_from_point()
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id11">
     <code class="docutils literal notranslate">
      <span class="pre">
       CalculationSettings
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id12">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.ellipse_a
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id13">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.ellipse_b
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id14">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.ellipse_f
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id15">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.eps
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id16">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.explain()
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id17">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.max_iterations
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id18">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.spherical_radius
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id19">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.tolerance
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id20">
       <code class="docutils literal notranslate">
        <span class="pre">
         CalculationSettings.workers
        </span>
       </code>
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="_sources/rust_geodistances.rst.txt">
        <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
</div>

</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2022, Denny Wong.<br>

</p>

  </div>
  
  <div class="footer-item">
    <p class="theme-version">
    Built with the
    <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">
        PyData Sphinx Theme
    </a>
    0.12.0.
</p>
  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>